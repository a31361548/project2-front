import{p as A,m as K,a as Q,g as H,u as U,c as o,b as fe,d as ge,e as he,f as oe,h as ae,t as $,i as be,j as ye,k as Ve,l as ne,n as xe,s as L,o as k,q as pe,V as Ke,r as Z,v as N,w as Qe,x as E,y as Ze,z as J,A as et,B as tt,C as _e,D as ke,E as ot,F as Se,G as D,H as at,I as Ce,J as I,K as we,L as nt,M as lt,N as st,O as Te,P as it,Q as ut,R as rt,S as ct,T as dt,U as vt,W as mt,X as ft,Y as gt,Z as ht,_ as bt,$ as yt,a0 as Y,a1 as Vt,a2 as xt,a3 as pt,a4 as _t,a5 as kt,a6 as St,a7 as Be,a8 as le,a9 as se,aa as ie,ab as C,ac as B,ad as d,ae as V,af as Ie,ag as X,ah as T,ai as ue,aj as Ct,ak as wt,al as M,am as R,an as G,ao as j,ap as Tt,aq as Bt,ar as It,as as Pt,at as $t,au as Et,av as Pe}from"./index-2e906d0c.js";import{v as ce}from"./index-3cfa0ab5.js";import{u as $e,a as z}from"./vee-validate.esm-018bef8b.js";import{c as Ee,a as W,b as Rt,V as Re}from"./index.esm-de8aadb6.js";import{V as Le}from"./VRow-ad76bf31.js";import{V as Me}from"./VCol-dc2434c8.js";import{u as Ae,V as O,a as ee,b as de}from"./VList-5a36ea62.js";import{V as Lt,a as Mt}from"./VNavigationDrawer-9b98cb0d.js";import{V as At}from"./VContainer-451776cb.js";import{m as Ht,V as ve,a as Ut}from"./VMenu-d82125ac.js";import"./VDivider-bdd82a0d.js";const He=A({text:String,...K(),...Q()},"VToolbarTitle"),Ue=H()({name:"VToolbarTitle",props:He(),setup(e,a){let{slots:t}=a;return U(()=>{const n=!!(t.default||t.text||e.text);return o(e.tag,{class:["v-toolbar-title",e.class],style:e.style},{default:()=>{var u;return[n&&o("div",{class:"v-toolbar-title__placeholder"},[t.text?t.text():e.text,(u=t.default)==null?void 0:u.call(t)])]}})}),{}}}),Ft=[null,"prominent","default","comfortable","compact"],Fe=A({absolute:Boolean,collapse:Boolean,color:String,density:{type:String,default:"default",validator:e=>Ft.includes(e)},extended:Boolean,extensionHeight:{type:[Number,String],default:48},flat:Boolean,floating:Boolean,height:{type:[Number,String],default:64},image:String,title:String,...fe(),...K(),...ge(),...he(),...Q({tag:"header"}),...oe()},"VToolbar"),me=H()({name:"VToolbar",props:Fe(),setup(e,a){var c;let{slots:t}=a;const{backgroundColorClasses:n,backgroundColorStyles:u}=ae($(e,"color")),{borderClasses:s}=be(e),{elevationClasses:l}=ye(e),{roundedClasses:b}=Ve(e),{themeClasses:v}=ne(e),{rtlClasses:g}=xe(),y=L(!!(e.extended||(c=t.extension)!=null&&c.call(t))),_=k(()=>parseInt(Number(e.height)+(e.density==="prominent"?Number(e.height):0)-(e.density==="comfortable"?8:0)-(e.density==="compact"?16:0),10)),h=k(()=>y.value?parseInt(Number(e.extensionHeight)+(e.density==="prominent"?Number(e.extensionHeight):0)-(e.density==="comfortable"?4:0)-(e.density==="compact"?8:0),10):0);return pe({VBtn:{variant:"text"}}),U(()=>{var r;const m=!!(e.title||t.title),S=!!(t.image||e.image),f=(r=t.extension)==null?void 0:r.call(t);return y.value=!!(e.extended||f),o(e.tag,{class:["v-toolbar",{"v-toolbar--absolute":e.absolute,"v-toolbar--collapse":e.collapse,"v-toolbar--flat":e.flat,"v-toolbar--floating":e.floating,[`v-toolbar--density-${e.density}`]:!0},n.value,s.value,l.value,b.value,v.value,g.value,e.class],style:[u.value,e.style]},{default:()=>[S&&o("div",{key:"image",class:"v-toolbar__image"},[t.image?o(Z,{key:"image-defaults",disabled:!e.image,defaults:{VImg:{cover:!0,src:e.image}}},t.image):o(Ke,{key:"image-img",cover:!0,src:e.image},null)]),o(Z,{defaults:{VTabs:{height:N(_.value)}}},{default:()=>{var i,x,p;return[o("div",{class:"v-toolbar__content",style:{height:N(_.value)}},[t.prepend&&o("div",{class:"v-toolbar__prepend"},[(i=t.prepend)==null?void 0:i.call(t)]),m&&o(Ue,{key:"title",text:e.title},{text:t.title}),(x=t.default)==null?void 0:x.call(t),t.append&&o("div",{class:"v-toolbar__append"},[(p=t.append)==null?void 0:p.call(t)])])]}}),o(Z,{defaults:{VTabs:{height:N(h.value)}}},{default:()=>[o(Qe,null,{default:()=>[y.value&&o("div",{class:"v-toolbar__extension",style:{height:N(h.value)}},[f])]})]})]})}),{contentHeight:_,extensionHeight:h}}}),Nt=A({scrollTarget:{type:String},scrollThreshold:{type:[String,Number],default:300}},"scroll");function Yt(e){let a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{canScroll:t}=a;let n=0;const u=E(null),s=L(0),l=L(0),b=L(0),v=L(!1),g=L(!1),y=k(()=>Number(e.scrollThreshold)),_=k(()=>Ze((y.value-s.value)/y.value||0)),h=()=>{const c=u.value;!c||t&&!t.value||(n=s.value,s.value="window"in c?c.pageYOffset:c.scrollTop,g.value=s.value<n,b.value=Math.abs(s.value-y.value))};return J(g,()=>{l.value=l.value||s.value}),J(v,()=>{l.value=0}),et(()=>{J(()=>e.scrollTarget,c=>{var S;const m=c?document.querySelector(c):window;m&&m!==u.value&&((S=u.value)==null||S.removeEventListener("scroll",h),u.value=m,u.value.addEventListener("scroll",h,{passive:!0}))},{immediate:!0})}),tt(()=>{var c;(c=u.value)==null||c.removeEventListener("scroll",h)}),t&&J(t,h,{immediate:!0}),{scrollThreshold:y,currentScroll:s,currentThreshold:b,isScrollActive:v,scrollRatio:_,isScrollingUp:g,savedScroll:l}}const Xt=A({scrollBehavior:String,modelValue:{type:Boolean,default:!0},location:{type:String,default:"top",validator:e=>["top","bottom"].includes(e)},...Fe(),..._e(),...Nt(),height:{type:[Number,String],default:64}},"VAppBar"),zt=H()({name:"VAppBar",props:Xt(),emits:{"update:modelValue":e=>!0},setup(e,a){let{slots:t}=a;const n=E(),u=ke(e,"modelValue"),s=k(()=>{var i;const r=new Set(((i=e.scrollBehavior)==null?void 0:i.split(" "))??[]);return{hide:r.has("hide"),inverted:r.has("inverted"),collapse:r.has("collapse"),elevate:r.has("elevate"),fadeImage:r.has("fade-image")}}),l=k(()=>{const r=s.value;return r.hide||r.inverted||r.collapse||r.elevate||r.fadeImage||!u.value}),{currentScroll:b,scrollThreshold:v,isScrollingUp:g,scrollRatio:y}=Yt(e,{canScroll:l}),_=k(()=>e.collapse||s.value.collapse&&(s.value.inverted?y.value>0:y.value===0)),h=k(()=>e.flat||s.value.elevate&&(s.value.inverted?b.value>0:b.value===0)),c=k(()=>s.value.fadeImage?s.value.inverted?1-y.value:y.value:void 0),m=k(()=>{var x,p;if(s.value.hide&&s.value.inverted)return 0;const r=((x=n.value)==null?void 0:x.contentHeight)??0,i=((p=n.value)==null?void 0:p.extensionHeight)??0;return r+i});ot(k(()=>!!e.scrollBehavior),()=>{at(()=>{s.value.hide?s.value.inverted?u.value=b.value>v.value:u.value=g.value||b.value<v.value:u.value=!0})});const{ssrBootStyles:S}=Ae(),{layoutItemStyles:f}=Se({id:e.name,order:k(()=>parseInt(e.order,10)),position:$(e,"location"),layoutSize:m,elementSize:L(void 0),active:u,absolute:$(e,"absolute")});return U(()=>{const r=me.filterProps(e);return o(me,D({ref:n,class:["v-app-bar",{"v-app-bar--bottom":e.location==="bottom"},e.class],style:[{...f.value,"--v-toolbar-image-opacity":c.value,height:void 0,...S.value},e.style]},r,{collapse:_.value,flat:h.value}),t)}),{}}}),Wt=A({...Ce({icon:"$menu",variant:"text"})},"VAppBarNavIcon"),Dt=H()({name:"VAppBarNavIcon",props:Wt(),setup(e,a){let{slots:t}=a;return U(()=>o(I,D(e,{class:["v-app-bar-nav-icon"]}),t)),{}}}),qt=H()({name:"VAppBarTitle",props:He(),setup(e,a){let{slots:t}=a;return U(()=>o(Ue,D(e,{class:"v-app-bar-title"}),t)),{}}});const Ot=e=>{const{touchstartX:a,touchendX:t,touchstartY:n,touchendY:u}=e,s=.5,l=16;e.offsetX=t-a,e.offsetY=u-n,Math.abs(e.offsetY)<s*Math.abs(e.offsetX)&&(e.left&&t<a-l&&e.left(e),e.right&&t>a+l&&e.right(e)),Math.abs(e.offsetX)<s*Math.abs(e.offsetY)&&(e.up&&u<n-l&&e.up(e),e.down&&u>n+l&&e.down(e))};function Gt(e,a){var n;const t=e.changedTouches[0];a.touchstartX=t.clientX,a.touchstartY=t.clientY,(n=a.start)==null||n.call(a,{originalEvent:e,...a})}function jt(e,a){var n;const t=e.changedTouches[0];a.touchendX=t.clientX,a.touchendY=t.clientY,(n=a.end)==null||n.call(a,{originalEvent:e,...a}),Ot(a)}function Jt(e,a){var n;const t=e.changedTouches[0];a.touchmoveX=t.clientX,a.touchmoveY=t.clientY,(n=a.move)==null||n.call(a,{originalEvent:e,...a})}function Kt(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const a={touchstartX:0,touchstartY:0,touchendX:0,touchendY:0,touchmoveX:0,touchmoveY:0,offsetX:0,offsetY:0,left:e.left,right:e.right,up:e.up,down:e.down,start:e.start,move:e.move,end:e.end};return{touchstart:t=>Gt(t,a),touchend:t=>jt(t,a),touchmove:t=>Jt(t,a)}}function Qt(e,a){var b;const t=a.value,n=t!=null&&t.parent?e.parentElement:e,u=(t==null?void 0:t.options)??{passive:!0},s=(b=a.instance)==null?void 0:b.$.uid;if(!n||!s)return;const l=Kt(a.value);n._touchHandlers=n._touchHandlers??Object.create(null),n._touchHandlers[s]=l,we(l).forEach(v=>{n.addEventListener(v,l[v],u)})}function Zt(e,a){var s,l;const t=(s=a.value)!=null&&s.parent?e.parentElement:e,n=(l=a.instance)==null?void 0:l.$.uid;if(!(t!=null&&t._touchHandlers)||!n)return;const u=t._touchHandlers[n];we(u).forEach(b=>{t.removeEventListener(b,u[b])}),delete t._touchHandlers[n]}const Ne={mounted:Qt,unmounted:Zt},Ye=Symbol.for("vuetify:v-window"),Xe=Symbol.for("vuetify:v-window-group"),eo=A({continuous:Boolean,nextIcon:{type:[Boolean,String,Function,Object],default:"$next"},prevIcon:{type:[Boolean,String,Function,Object],default:"$prev"},reverse:Boolean,showArrows:{type:[Boolean,String],validator:e=>typeof e=="boolean"||e==="hover"},touch:{type:[Object,Boolean],default:void 0},direction:{type:String,default:"horizontal"},modelValue:null,disabled:Boolean,selectedClass:{type:String,default:"v-window-item--active"},mandatory:{type:[Boolean,String],default:"force"},...K(),...Q(),...oe()},"VWindow"),to=H()({name:"VWindow",directives:{Touch:Ne},props:eo(),emits:{"update:modelValue":e=>!0},setup(e,a){let{slots:t}=a;const{themeClasses:n}=ne(e),{isRtl:u}=xe(),{t:s}=nt(),l=lt(e,Xe),b=E(),v=k(()=>u.value?!e.reverse:e.reverse),g=L(!1),y=k(()=>{const p=e.direction==="vertical"?"y":"x",P=(v.value?!g.value:g.value)?"-reverse":"";return`v-window-${p}${P}-transition`}),_=L(0),h=E(void 0),c=k(()=>l.items.value.findIndex(p=>l.selected.value.includes(p.id)));J(c,(p,w)=>{const P=l.items.value.length,F=P-1;P<=2?g.value=p<w:p===F&&w===0?g.value=!0:p===0&&w===F?g.value=!1:g.value=p<w}),st(Ye,{transition:y,isReversed:g,transitionCount:_,transitionHeight:h,rootRef:b});const m=k(()=>e.continuous||c.value!==0),S=k(()=>e.continuous||c.value!==l.items.value.length-1);function f(){m.value&&l.prev()}function r(){S.value&&l.next()}const i=k(()=>{const p=[],w={icon:u.value?e.nextIcon:e.prevIcon,class:`v-window__${v.value?"right":"left"}`,onClick:l.prev,"aria-label":s("$vuetify.carousel.prev")};p.push(m.value?t.prev?t.prev({props:w}):o(I,w,null):o("div",null,null));const P={icon:u.value?e.prevIcon:e.nextIcon,class:`v-window__${v.value?"left":"right"}`,onClick:l.next,"aria-label":s("$vuetify.carousel.next")};return p.push(S.value?t.next?t.next({props:P}):o(I,P,null):o("div",null,null)),p}),x=k(()=>e.touch===!1?e.touch:{...{left:()=>{v.value?f():r()},right:()=>{v.value?r():f()},start:w=>{let{originalEvent:P}=w;P.stopPropagation()}},...e.touch===!0?{}:e.touch});return U(()=>Te(o(e.tag,{ref:b,class:["v-window",{"v-window--show-arrows-on-hover":e.showArrows==="hover"},n.value,e.class],style:e.style},{default:()=>{var p,w;return[o("div",{class:"v-window__container",style:{height:h.value}},[(p=t.default)==null?void 0:p.call(t,{group:l}),e.showArrows!==!1&&o("div",{class:"v-window__controls"},[i.value])]),(w=t.additional)==null?void 0:w.call(t,{group:l})]}}),[[it("touch"),x.value]])),{group:l}}}),oo=A({reverseTransition:{type:[Boolean,String],default:void 0},transition:{type:[Boolean,String],default:void 0},...K(),...ut(),...rt()},"VWindowItem"),ze=H()({name:"VWindowItem",directives:{Touch:Ne},props:oo(),emits:{"group:selected":e=>!0},setup(e,a){let{slots:t}=a;const n=ct(Ye),u=dt(e,Xe),{isBooted:s}=Ae();if(!n||!u)throw new Error("[Vuetify] VWindowItem must be used inside VWindow");const l=L(!1),b=k(()=>s.value&&(n.isReversed.value?e.reverseTransition!==!1:e.transition!==!1));function v(){!l.value||!n||(l.value=!1,n.transitionCount.value>0&&(n.transitionCount.value-=1,n.transitionCount.value===0&&(n.transitionHeight.value=void 0)))}function g(){var m;l.value||!n||(l.value=!0,n.transitionCount.value===0&&(n.transitionHeight.value=N((m=n.rootRef.value)==null?void 0:m.clientHeight)),n.transitionCount.value+=1)}function y(){v()}function _(m){l.value&&gt(()=>{!b.value||!l.value||!n||(n.transitionHeight.value=N(m.clientHeight))})}const h=k(()=>{const m=n.isReversed.value?e.reverseTransition:e.transition;return b.value?{name:typeof m!="string"?n.transition.value:m,onBeforeEnter:g,onAfterEnter:v,onEnterCancelled:y,onBeforeLeave:g,onAfterLeave:v,onLeaveCancelled:y,onEnter:_}:!1}),{hasContent:c}=vt(e,u.isSelected);return U(()=>o(ft,{transition:h.value,disabled:!s.value},{default:()=>{var m;return[Te(o("div",{class:["v-window-item",u.selectedClass.value,e.class],style:e.style},[c.value&&((m=t.default)==null?void 0:m.call(t))]),[[mt,u.isSelected.value]])]}})),{groupItem:u}}});const ao=A({app:Boolean,color:String,height:{type:[Number,String],default:"auto"},...fe(),...K(),...ge(),..._e(),...he(),...Q({tag:"footer"}),...oe()},"VFooter"),no=H()({name:"VFooter",props:ao(),setup(e,a){let{slots:t}=a;const{themeClasses:n}=ne(e),{backgroundColorClasses:u,backgroundColorStyles:s}=ae($(e,"color")),{borderClasses:l}=be(e),{elevationClasses:b}=ye(e),{roundedClasses:v}=Ve(e),g=L(32),{resizeRef:y}=ht(c=>{c.length&&(g.value=c[0].target.clientHeight)}),_=k(()=>e.height==="auto"?g.value:parseInt(e.height,10)),{layoutItemStyles:h}=Se({id:e.name,order:k(()=>parseInt(e.order,10)),position:k(()=>"bottom"),layoutSize:_,elementSize:k(()=>e.height==="auto"?void 0:_.value),active:k(()=>e.app),absolute:$(e,"absolute")});return U(()=>o(e.tag,{ref:y,class:["v-footer",n.value,u.value,l.value,b.value,v.value,e.class],style:[s.value,e.app?h.value:{height:N(e.height)},e.style]},t)),{}}});const We=Symbol.for("vuetify:v-tabs"),lo=A({fixed:Boolean,sliderColor:String,hideSlider:Boolean,direction:{type:String,default:"horizontal"},...bt(Ce({selectedClass:"v-tab--selected",variant:"text"}),["active","block","flat","location","position","symbol"])},"VTab"),te=H()({name:"VTab",props:lo(),setup(e,a){let{slots:t,attrs:n}=a;const{textColorClasses:u,textColorStyles:s}=yt(e,"sliderColor"),l=E(),b=E(),v=k(()=>e.direction==="horizontal"),g=k(()=>{var _,h;return((h=(_=l.value)==null?void 0:_.group)==null?void 0:h.isSelected.value)??!1});function y(_){var c,m;let{value:h}=_;if(h){const S=(m=(c=l.value)==null?void 0:c.$el.parentElement)==null?void 0:m.querySelector(".v-tab--selected .v-tab__slider"),f=b.value;if(!S||!f)return;const r=getComputedStyle(S).color,i=S.getBoundingClientRect(),x=f.getBoundingClientRect(),p=v.value?"x":"y",w=v.value?"X":"Y",P=v.value?"right":"bottom",F=v.value?"width":"height",qe=i[p],Oe=x[p],q=qe>Oe?i[P]-x[P]:i[p]-x[p],Ge=Math.sign(q)>0?v.value?"right":"bottom":Math.sign(q)<0?v.value?"left":"top":"center",je=(Math.abs(q)+(Math.sign(q)<0?i[F]:x[F]))/Math.max(i[F],x[F])||0,Je=i[F]/x[F]||0,re=1.5;xt(f,{backgroundColor:[r,"currentcolor"],transform:[`translate${w}(${q}px) scale${w}(${Je})`,`translate${w}(${q/re}px) scale${w}(${(je-1)/re+1})`,"none"],transformOrigin:Array(3).fill(Ge)},{duration:225,easing:pt})}}return U(()=>{const _=I.filterProps(e);return o(I,D({symbol:We,ref:l,class:["v-tab",e.class],style:e.style,tabindex:g.value?0:-1,role:"tab","aria-selected":String(g.value),active:!1},_,n,{block:e.fixed,maxWidth:e.fixed?300:void 0,"onGroup:selected":y}),{...t,default:()=>{var h;return o(Y,null,[((h=t.default)==null?void 0:h.call(t))??e.text,!e.hideSlider&&o("div",{ref:b,class:["v-tab__slider",u.value],style:s.value},null)])}})}),Vt({},l)}});function so(e){return e?e.map(a=>St(a)?a:{text:a,value:a}):[]}const io=A({alignTabs:{type:String,default:"start"},color:String,fixedTabs:Boolean,items:{type:Array,default:()=>[]},stacked:Boolean,bgColor:String,grow:Boolean,height:{type:[Number,String],default:void 0},hideSlider:Boolean,sliderColor:String,...Ht({mandatory:"force"}),..._t(),...Q()},"VTabs"),uo=H()({name:"VTabs",props:io(),emits:{"update:modelValue":e=>!0},setup(e,a){let{slots:t}=a;const n=ke(e,"modelValue"),u=k(()=>so(e.items)),{densityClasses:s}=kt(e),{backgroundColorClasses:l,backgroundColorStyles:b}=ae($(e,"bgColor"));return pe({VTab:{color:$(e,"color"),direction:$(e,"direction"),stacked:$(e,"stacked"),fixed:$(e,"fixedTabs"),sliderColor:$(e,"sliderColor"),hideSlider:$(e,"hideSlider")}}),U(()=>{const v=ve.filterProps(e);return o(ve,D(v,{modelValue:n.value,"onUpdate:modelValue":g=>n.value=g,class:["v-tabs",`v-tabs--${e.direction}`,`v-tabs--align-tabs-${e.alignTabs}`,{"v-tabs--fixed-tabs":e.fixedTabs,"v-tabs--grow":e.grow,"v-tabs--stacked":e.stacked},s.value,l.value,e.class],style:[{"--v-tabs-height":N(e.height)},b.value,e.style],role:"tablist",symbol:We}),{default:()=>[t.default?t.default():u.value.map(g=>o(te,D(g,{key:g.text}),null))]})}),{}}});const ro={__name:"UserRegister",setup(e){const a=le(),t=se(),{api:n}=ue(),u=ie(),s=E(!1),l=E(!1),b=Ee({account:W().required("帳號為必填欄位").min(4,"使用者帳號長度不符").max(20,"使用者帳號長度不符"),email:W().required("信箱為必填欄位").test("isEmail","信箱格式錯誤",f=>ce.isEmail(f)),phone:W().required("手機號碼必填").test("isMobilePhone","格式錯誤",f=>ce.isMobilePhone(f,"zh-TW")),password:W().required("密碼為必填欄位").min(4,"密碼長度不符").max(20,"密碼長度不符"),passwordConfirm:W().required("密碼為必填欄位").min(4,"密碼長度不符").max(20,"密碼長度不符").oneOf([Rt("password")],"密碼不一致")}),{handleSubmit:v,isSubmitting:g}=$e({validationSchema:b}),y=z("account"),_=z("email"),h=z("phone"),c=z("password"),m=z("passwordConfirm"),S=v(async f=>{var r,i;try{await n.post("/users",{account:f.account,email:f.email,password:f.password,phone:f.phone}),t({text:"註冊成功",showCloseButton:!1,snackbarProps:{timeout:2e3,color:"green",location:"bottom"}});const{data:x}=await n.post("/users/login",{account:f.account,password:f.password});u.login(x.result),a.push("/")}catch(x){console.log(x);const p=((i=(r=x==null?void 0:x.response)==null?void 0:r.data)==null?void 0:i.message)||"發生錯誤，請稍後再試";t({text:p,showCloseButton:!1,snackbarProps:{timeout:2e3,color:"red",location:"bottom"}})}});return(f,r)=>(C(),B(ze,{value:"two"},{default:d(()=>[o(Le,null,{default:d(()=>[o(Me,{cols:"12"},{default:d(()=>[o(Re,{disabled:V(g),onSubmit:Ie(V(S),["prevent"])},{default:d(()=>[o(X,{label:"帳號",minlength:"4",maxlength:"20",counter:"","prepend-inner-icon":"mdi-account",modelValue:V(y).value.value,"onUpdate:modelValue":r[0]||(r[0]=i=>V(y).value.value=i),"error-messages":V(y).errorMessage.value},null,8,["modelValue","error-messages"]),o(X,{label:"信箱",type:"email","prepend-inner-icon":"mdi-email",modelValue:V(_).value.value,"onUpdate:modelValue":r[1]||(r[1]=i=>V(_).value.value=i),"error-messages":V(_).errorMessage.value},null,8,["modelValue","error-messages"]),o(X,{label:"手機號碼","prepend-inner-icon":"mdi-phone",modelValue:V(h).value.value,"onUpdate:modelValue":r[2]||(r[2]=i=>V(h).value.value=i),"error-messages":V(h).errorMessage.value},null,8,["modelValue","error-messages"]),o(X,{label:"密碼",type:l.value?"text":"password","prepend-inner-icon":"mdi-lock",minlength:"4",maxlength:"20",counter:"",modelValue:V(c).value.value,"onUpdate:modelValue":r[3]||(r[3]=i=>V(c).value.value=i),"append-inner-icon":l.value?"mdi-eye":"mdi-eye-off","onClick:appendInner":r[4]||(r[4]=i=>l.value=!l.value),"error-messages":V(c).errorMessage.value},null,8,["type","modelValue","append-inner-icon","error-messages"]),o(X,{label:"確認密碼",type:s.value?"text":"password","prepend-inner-icon":"mdi-check",minlength:"4",maxlength:"20",counter:"",modelValue:V(m).value.value,"onUpdate:modelValue":r[5]||(r[5]=i=>V(m).value.value=i),"append-inner-icon":s.value?"mdi-eye":"mdi-eye-off","onClick:appendInner":r[6]||(r[6]=i=>s.value=!s.value),"error-messages":V(m).errorMessage.value},null,8,["type","modelValue","append-inner-icon","error-messages"]),o(I,{type:"submit",color:"orange-darken-4",block:""},{default:d(()=>[T("註冊")]),_:1})]),_:1},8,["disabled","onSubmit"])]),_:1})]),_:1})]),_:1}))}},co=Be(ro,[["__scopeId","data-v-5d7ac7f6"]]),vo={__name:"UserLogin",setup(e){const a=le(),t=se(),{api:n}=ue(),u=ie(),s=E(!1),l=Ee({account:W().required("帳號為必填欄位").min(4,"使用者帳號長度不符").max(20,"使用者帳號長度不符"),password:W().required("密碼為必填欄位").min(4,"密碼長度不符").max(20,"密碼長度不符")}),{handleSubmit:b,isSubmitting:v}=$e({validationSchema:l}),g=z("account"),y=z("password"),_=b(async h=>{var c,m;try{const{data:S}=await n.post("/users/login",{account:h.account,password:h.password});u.login(S.result),t({text:"登入成功",showCloseButton:!1,snackbarProps:{timeout:2e3,color:"green",location:"bottom"}}),a.push("/")}catch(S){console.log(S);const f=((m=(c=S==null?void 0:S.response)==null?void 0:c.data)==null?void 0:m.message)||"發生錯誤，請稍後再試";t({text:f,showCloseButton:!1,snackbarProps:{timeout:2e3,color:"red",location:"bottom"}})}});return(h,c)=>(C(),B(ze,{value:"one"},{default:d(()=>[o(Le,null,{default:d(()=>[o(Me,{cols:"12"},{default:d(()=>[o(Re,{disabled:V(v),onSubmit:Ie(V(_),["prevent"])},{default:d(()=>[o(X,{label:"帳號",minlength:"4",maxlength:"20",counter:"","prepend-inner-icon":"mdi-account",modelValue:V(g).value.value,"onUpdate:modelValue":c[0]||(c[0]=m=>V(g).value.value=m),"error-messages":V(g).errorMessage.value},null,8,["modelValue","error-messages"]),o(X,{label:"密碼",type:s.value?"text":"password","append-inner-icon":s.value?"mdi-eye":"mdi-eye-off","onClick:appendInner":c[1]||(c[1]=m=>s.value=!s.value),minlength:"4",maxlength:"20",counter:"","prepend-inner-icon":"mdi-lock",modelValue:V(y).value.value,"onUpdate:modelValue":c[2]||(c[2]=m=>V(y).value.value=m),"error-messages":V(y).errorMessage.value},null,8,["type","append-inner-icon","modelValue","error-messages"]),o(I,{type:"submit",color:"orange-darken-4"},{default:d(()=>[T("登入")]),_:1})]),_:1},8,["disabled","onSubmit"])]),_:1})]),_:1})]),_:1}))}};const De=e=>($t("data-v-951ee0cb"),e=e(),Et(),e),mo={key:0},fo={key:1},go={key:2},ho={key:0},bo=De(()=>Pe("div",null," 禁止酒駕   ， 未成年請勿飲酒  ",-1)),yo=De(()=>Pe("img",{src:"https://www.kkbar2023.com/images/stop.png",style:{}},null,-1)),Vo={__name:"FrontLayout",setup(e){const{mobile:a}=Ct(),t=k(()=>a.value),n=E(!1),u=E(!1),s=E("one"),l=ie(),{apiAuth:b}=ue(),v=le(),g=se(),y=[{to:"/login",text:"登入",icon:"mdi-login"}],_=()=>{v.push("/admin")},h=()=>{console.log("information method called"),v.push("/self")},c=[{to:"/menu1",text:"酒鬼專區",list:[{to:"/",text:"經典調酒"},{to:"/",text:"超商酒單"},{to:"/",text:"酒單分享"}]},{to:"/menu2",text:"喝酒必備",list:[{to:"/",text:"酒桌遊戲"},{to:"/",text:"調酒酒單"}]},{to:"/menu4",text:"購物車",list:[{to:"/orders",text:"購買紀錄"}]}],m=async()=>{var S,f;try{await b.delete("/users/logout"),l.logout(),g({text:"登出成功",showCloseButton:!1,snackbarProps:{timeout:2e3,color:"green",location:"bottom"}}),v.push("/")}catch(r){const i=((f=(S=r==null?void 0:r.response)==null?void 0:S.data)==null?void 0:f.message)||"發生錯誤，請稍後再試";g({text:i,showCloseButton:!1,snackbarProps:{timeout:2e3,color:"red",location:"bottom"}})}};return(S,f)=>{const r=wt("RouterView");return C(),M(Y,null,[t.value?(C(),B(Lt,{key:0,modelValue:u.value,"onUpdate:modelValue":f[0]||(f[0]=i=>u.value=i),temporary:"",location:"left"},{default:d(()=>[o(de,{nav:""},{default:d(()=>[(C(),M(Y,null,G(c,i=>o(O,{key:i.to,to:i.to},{default:d(()=>[o(ee,null,{default:d(()=>[T(j(i.text),1)]),_:2},1024)]),_:2},1032,["to"])),64)),V(l).isLogin?R("",!0):(C(),M("span",mo,[(C(),M(Y,null,G(y,i=>o(O,{key:i.to,to:i.to,"prepend-icon":i.icon},{default:d(()=>[o(ee,null,{default:d(()=>[T(j(i.text),1)]),_:2},1024)]),_:2},1032,["to","prepend-icon"])),64))])),V(l).isAdmin?(C(),B(O,{key:1,"prepend-icon":"mdi-cog",color:"white",onClick:_},{default:d(()=>[T("管理")]),_:1})):R("",!0),V(l).isLogin?(C(),B(O,{key:2,"prepend-icon":"mdi-pen",onClick:h},{default:d(()=>[T("個人資料")]),_:1})):R("",!0),V(l).isLogin?(C(),B(O,{key:3,"prepend-icon":"mdi-logout",onClick:m},{default:d(()=>[T("登出")]),_:1})):R("",!0)]),_:1})]),_:1},8,["modelValue"])):R("",!0),o(zt,{color:"rgba(0,0,0,0.9)",elevation:3},{default:d(()=>[o(At,{class:"fullcontainer",fluid:""},{default:d(()=>[o(I,{to:"/",active:!1},{default:d(()=>[o(qt,{class:"bartitle"},{default:d(()=>[T("醉後希望")]),_:1})]),_:1}),t.value?(C(),B(Dt,{key:0,onClick:f[1]||(f[1]=i=>u.value=!0)})):(C(),M("div",fo,[(C(),M(Y,null,G(c,i=>o(Ut,{key:i.to,class:"menu","open-on-hover":""},{activator:d(({props:x})=>[o(I,D(x,{to:i.to,"prepend-icon":i.icon,class:"buttonstyle"}),{default:d(()=>[T(j(i.text),1)]),_:2},1040,["to","prepend-icon"])]),default:d(()=>[i.list?(C(),B(de,{key:0},{default:d(()=>[(C(!0),M(Y,null,G(i.list,(x,p)=>(C(),B(O,{key:p,value:p,to:x.to},{default:d(()=>[o(ee,null,{default:d(()=>[T(j(x.text),1)]),_:2},1024)]),_:2},1032,["value","to"]))),128))]),_:2},1024)):R("",!0)]),_:2},1024)),64))])),t.value?R("",!0):(C(),M("div",go,[V(l).isLogin?R("",!0):(C(),M("span",ho,[(C(),M(Y,null,G(y,i=>o(I,{key:i.to,"prepend-icon":i.icon,class:"buttonstyle"},{default:d(()=>[T(j(i.text)+" ",1),o(Tt,{modelValue:n.value,"onUpdate:modelValue":f[4]||(f[4]=x=>n.value=x),activator:"parent",width:"auto"},{default:d(()=>[o(Bt,{"min-width":"800"},{default:d(()=>[o(uo,{"fixed-tabs":"",modelValue:s.value,"onUpdate:modelValue":f[2]||(f[2]=x=>s.value=x),"bg-color":"primary"},{default:d(()=>[o(te,{value:"one"},{default:d(()=>[T("登入")]),_:1}),o(te,{value:"two"},{default:d(()=>[T("註冊")]),_:1})]),_:1},8,["modelValue"]),o(It,null,{default:d(()=>[o(to,{modelValue:s.value,"onUpdate:modelValue":f[3]||(f[3]=x=>s.value=x)},{default:d(()=>[o(co),o(vo)]),_:1},8,["modelValue"])]),_:1}),o(Pt)]),_:1})]),_:1},8,["modelValue"])]),_:2},1032,["prepend-icon"])),64))])),V(l).isAdmin?(C(),B(I,{key:1,"prepend-icon":"mdi-cog",color:"white",class:"buttonstyle",onClick:_},{default:d(()=>[T("管理")]),_:1})):R("",!0),V(l).isLogin?(C(),B(I,{key:2,"prepend-icon":"mdi-pen",class:"buttonstyle",onClick:h},{default:d(()=>[T("個人資料")]),_:1})):R("",!0),V(l).isLogin?(C(),B(I,{key:3,"prepend-icon":"mdi-logout",onClick:m,class:"buttonstyle"},{default:d(()=>[T("登出")]),_:1})):R("",!0)]))]),_:1})]),_:1}),o(Mt,{style:{"min-height":"150vh"},class:"bg"},{default:d(()=>[(C(),B(r,{key:S.$route.path}))]),_:1}),o(no,{style:{"background-color":"rgba(245,203,50,0.9)",color:"white","font-size":"2rem",display:"flex","justify-content":"center"}},{default:d(()=>[bo,yo]),_:1})],64)}}},Eo=Be(Vo,[["__scopeId","data-v-951ee0cb"]]);export{Eo as default};
